(()=>{"use strict";"undefined"!=typeof __webpack_require__&&Object.defineProperty(__webpack_require__,"p",{get:function(){try{if("string"!=typeof resourceBaseUrlRUNTIME)throw new Error("WebpackRequireFrom: 'resourceBaseUrlRUNTIME' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return resourceBaseUrlRUNTIME}catch(e){return console.error(e),"auto"}},set:function(e){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+e+".")}});const e="pagecloud-event-name",t="pc-button";[`.${t} .text`,".container",".drag-image"].join(",");const n="https://e.pagecloud.com/event",r=new class{async fireEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={referrer:document.referrer,event_type:"custom",uri:document.location.href,...e},o=document.head.querySelector("[name='pc-variant-id']")?.getAttribute("content");return o&&(r.pc_variant_id=o),t&&-1!==window.navigator?.userAgent.indexOf("Firefox")?(this.sendBeacon(e),null):fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),keepalive:t})}sendBeacon(e){const t={referrer:document.referrer,...e},r=new Blob([JSON.stringify(t)],{type:"application/json"});return new Promise(((e,t)=>{try{e(navigator.sendBeacon(n,r))}catch(e){t(e)}}))}},o=document.head.querySelector("[name='file-name']");let i="page_view";"404"===o?.getAttribute("content")&&"/404"!=new URL(document.location.href).pathname&&(i="not_found"),r.fireEvent({event_type:"system",event:i,uri:document.location.href}),window.addEventListener("scroll",((e,t)=>{let n=!1;const o=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>e(...o)),n)}}((()=>{Math.ceil(window.scrollY)+window.innerHeight>=.9*document.documentElement.offsetHeight&&(n||(n=!0,r.fireEvent({event_type:"system",event:"scroll_to_bottom",uri:document.location.href})),window.removeEventListener("scroll",o))}));return o})());const c=e=>t=>{if(!e)return;const n=t.currentTarget,o=n.getAttribute("href")||"",i=n.getAttribute("id"),c={event_type:"system",event:e,uri:document.location.href,event_details:{href:o,element_id:i}};r.fireEvent(c,!0)};[...document.querySelectorAll("a")].forEach((e=>{e.addEventListener("click",(e=>c(function(e){const t=e.getAttribute("href");let n=null;if(t)if(e.className.includes("attachment"))n="download";else{const e=new URL(t,document.location.href);n=new URL(document.location.href).hostname==e.hostname?"link_internal":"link_external"}return n}(e.currentTarget))(e)))})),[...document.querySelectorAll(`.${t}`)].forEach((e=>{e.addEventListener("click",c("button_click"))})),function(){const t=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.fireEvent({event_type:"custom",event:t,uri:document.location.href,event_details:{element_id:e.id,trigger_type:n,...o}},!0)};[...document.querySelectorAll(`[${e}]`)].forEach((n=>{const r=function(t){const n=e=>{const n=t.getAttribute(e);return(n&&n.match(/(?:\\.|[^|\\])+/g)||[]).map((e=>e.replace(/\\\|/g,"|")))},r=n(e),o=n("pagecloud-event-trigger");return r.map(((e,t)=>({name:e,trigger:o[t]||"click"})))}(n);r.forEach((e=>{let{name:r,trigger:o}=e;switch(o){case"click":n.addEventListener("click",(()=>t(n,r,o)));break;case"in_view":!function(e,t){new IntersectionObserver(((e,n)=>{e.forEach((e=>{e.isIntersecting&&(t(),n.unobserve(e.target))}))}),{threshold:0}).observe(e)}(n,(()=>t(n,r,o)));break;case"form_submission":!function(e,n){const r=e.closest("form");r?.addEventListener("pc-form-submission-event",(()=>{t(r,n,"form_submission",{form_id:r.getAttribute("form-id"),trigger_type:"form_submission"})}))}(n,r)}}))}))}()})();